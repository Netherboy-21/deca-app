<h1>Transactions</h1><br>

<%= button_to "+ New transaction", new_user_app_transaction_path, class: "new", method: :get%>

<%= stylesheet_link_tag 'transactions' %>

<!-- Loop through each transactions -->
<h3>Recent transactions</h3>
<table>
  <!--Column headers-->
  <th>Date</th>
  <th>Summary</th>
  <th>Amount</th>
  <th>Category</th>
  <!-- Dynamically generate table body -->
  <% @transactions.each do |transaction| %>
    <tr>
      <td>
        <%= transaction.date.strftime("%F") %>
      </td>
      <td>
        <%= link_to transaction.summary, user_app_transaction_path(session[:user_id],transaction.id) %>
      </td>
      <td>
        <%= ( transaction.is_income ? "$" : "-$" ) + transaction.amount.to_s %>
      </td>
      <td>
        <%= transaction.category %>
      </td>
    </tr>
<% end %>
</table>